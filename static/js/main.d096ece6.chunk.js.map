{"version":3,"sources":["components/Modal/Modal.module.css","components/App.module.css","components/SearchForm/SearchForm.module.css","components/Gallery/Gallery.module.css","components/PhotoCard/PhotoCard.module.css","components/SearchForm/SearchForm.js","services/pixabayApi.js","components/Modal/Modal.js","components/PhotoCard/PhotoCard.js","components/Gallery/Gallery.js","components/App.js","index.js"],"names":["module","exports","SearchForm","state","query","handleChange","e","setState","target","value","handleKey","key","preventDefault","props","onSearch","className","styles","search_form","onKeyPress","this","type","placeholder","onChange","autoComplete","Component","fetchImageApi","pageNumber","fetch","then","res","json","data","hits","MODAL_ROOT","document","querySelector","Modal","backdropRef","createRef","handleKeyPress","code","onClose","handleBackdropClick","current","window","addEventListener","removeEventListener","children","createPortal","backdrop","ref","onClick","role","modal","PhotoCard","isModalOpen","openModal","closeModal","imgSrc","likes","views","downloads","comments","largeImage","alt","gallery_item","photo_card","src","stats","stats_item","fullscreen_button","defaultProps","Gallary","items","gallery","map","el","id","webformatURL","largeImageURL","App","images","error","isLoading","fetchImage","image","catch","finally","prevProps","prevState","scrollTo","top","body","scrollHeight","behavior","app","toast","warning","message","color","height","width","timeout","length","button","disabled","ReactDom","render","getElementById"],"mappings":"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","file":"static/js/main.d096ece6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__2XTfP\",\"modal\":\"Modal_modal__1mF5s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__9oeV6\",\"button\":\"App_button__hOhvg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search_form\":\"SearchForm_search_form__1f86k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__2fyuD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo_card\":\"PhotoCard_photo_card__3ZKrq\",\"gallery_item\":\"PhotoCard_gallery_item__1L6IL\",\"stats\":\"PhotoCard_stats__1C9m8\",\"stats_item\":\"PhotoCard_stats_item___-t1u\",\"fullscreen_button\":\"PhotoCard_fullscreen_button__1BciS\"};","/*eslint-disable*/\r\nimport React, { Component } from 'react';\r\nimport styles from '../SearchForm/SearchForm.module.css';\r\nexport default class SearchForm extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      query: e.target.value,\r\n    });\r\n  };\r\n  handleKey = e => {\r\n    if (e.key === 'Enter') {\r\n      e.preventDefault();\r\n      this.props.onSearch(this.state.query);\r\n      this.setState({ query: '' });\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <form className={styles.search_form} onKeyPress={this.handleKey}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search images...\"\r\n          value={this.state.query}\r\n          onChange={this.handleChange}\r\n          autoComplete=\"off\"\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n","const fetchImageApi = (query, pageNumber) => {\r\n  const api = 'https://pixabay.com/api/';\r\n  const apiKey = '14060628-9f38034532b09f09b393290c7';\r\n  const perPage = 12;\r\n  return fetch(\r\n    `${api}?key=${apiKey}&q=${query}&image_type=photo&page=${pageNumber}&per_page=${perPage}`,\r\n  )\r\n    .then(res => res.json())\r\n    .then(data => data.hits);\r\n};\r\nexport default fetchImageApi;\r\n","import React, { Component, createRef } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.css';\r\n\r\nconst MODAL_ROOT = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n  };\r\n\r\n  backdropRef = createRef();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  handleKeyPress = e => {\r\n    if (e.code !== 'Escape') {\r\n      return;\r\n    }\r\n\r\n    this.props.onClose();\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (this.backdropRef.current && e.target !== this.backdropRef.current) {\r\n      return;\r\n    }\r\n\r\n    this.props.onClose();\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return createPortal(\r\n      <div\r\n        className={styles.backdrop}\r\n        ref={this.backdropRef}\r\n        onClick={this.handleBackdropClick}\r\n        role=\"presentation\"\r\n      >\r\n        <div className={styles.modal}>{children}</div>\r\n      </div>,\r\n      MODAL_ROOT,\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Modal from '../Modal/Modal';\r\nimport styles from './PhotoCard.module.css';\r\n\r\nexport default class PhotoCard extends Component {\r\n  static propTypes = {\r\n    imgSrc: PropTypes.string.isRequired,\r\n    likes: PropTypes.number.isRequired,\r\n    views: PropTypes.number.isRequired,\r\n    downloads: PropTypes.number.isRequired,\r\n    comments: PropTypes.number.isRequired,\r\n    largeImage: PropTypes.string.isRequired,\r\n    alt: PropTypes.string,\r\n  };\r\n\r\n  static defaultProps = {\r\n    alt: 'image',\r\n  };\r\n\r\n  state = {\r\n    isModalOpen: false,\r\n  };\r\n\r\n  openModal = () => {\r\n    this.setState({ isModalOpen: true });\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({ isModalOpen: false });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      imgSrc,\r\n      likes,\r\n      views,\r\n      downloads,\r\n      comments,\r\n      largeImage,\r\n      alt,\r\n    } = this.props;\r\n    const { isModalOpen } = this.state;\r\n\r\n    return (\r\n      <li className={styles.gallery_item}>\r\n        <div className={styles.photo_card}>\r\n          <img src={imgSrc} alt={alt} />\r\n          <div className={styles.stats}>\r\n            <p className={styles.stats_item}>\r\n              <i className=\"material-icons\">thumb_up</i>\r\n              {likes}\r\n            </p>\r\n            <p className={styles.stats_item}>\r\n              <i className=\"material-icons\">visibility</i>\r\n              {views}\r\n            </p>\r\n            <p className={styles.stats_item}>\r\n              <i className=\"material-icons\">comment</i>\r\n              {comments}\r\n            </p>\r\n            <p className={styles.stats_item}>\r\n              <i className=\"material-icons\">cloud_download</i>\r\n              {downloads}\r\n            </p>\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            className={styles.fullscreen_button}\r\n            onClick={this.openModal}\r\n          >\r\n            <i className=\"material-icons\">zoom_out_map</i>\r\n          </button>\r\n\r\n          {isModalOpen && (\r\n            <Modal onClose={this.closeModal}>\r\n              <img src={largeImage} alt={alt} />\r\n            </Modal>\r\n          )}\r\n        </div>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport PhotoCard from '../PhotoCard/PhotoCard';\r\nimport styles from './Gallery.module.css';\r\n\r\nconst Gallary = ({ items }) => {\r\n  return (\r\n    <ul className={styles.gallery}>\r\n      {items.map(el => (\r\n        <PhotoCard\r\n          key={el.id}\r\n          imgSrc={el.webformatURL}\r\n          likes={el.likes}\r\n          views={el.views}\r\n          comments={el.comments}\r\n          downloads={el.downloads}\r\n          largeImage={el.largeImageURL}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\nGallary.propTypes = {\r\n  items: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      key: PropTypes.string,\r\n      imgSrc: PropTypes.string,\r\n      likes: PropTypes.number.isRequired,\r\n      views: PropTypes.number.isRequired,\r\n      downloads: PropTypes.number.isRequired,\r\n      comments: PropTypes.number.isRequired,\r\n      largeImage: PropTypes.string,\r\n    }),\r\n  ).isRequired,\r\n};\r\n\r\nexport default Gallary;\r\n","import React, { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport Loader from 'react-loader-spinner';\r\nimport SearchForm from './SearchForm/SearchForm';\r\nimport fetchImageApi from '../services/pixabayApi';\r\nimport Gallary from './Gallery/Gallery';\r\nimport styles from './App.module.css';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    images: [],\r\n    query: '',\r\n    error: null,\r\n    pageNumber: 1,\r\n    isLoading: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { query } = this.state;\r\n    if (prevState.query !== query) {\r\n      this.fetchImage();\r\n    }\r\n    window.scrollTo({\r\n      top: document.body.scrollHeight,\r\n\r\n      behavior: 'smooth',\r\n    });\r\n  }\r\n\r\n  onSearch = query => {\r\n    this.setState({ query, images: [], pageNumber: 1 });\r\n  };\r\n\r\n  fetchImage = () => {\r\n    const { query, pageNumber } = this.state;\r\n    this.setState({ isLoading: true });\r\n    fetchImageApi(query, pageNumber)\r\n      .then(image => {\r\n        this.setState(state => ({\r\n          images: [...state.images, ...image],\r\n          pageNumber: state.pageNumber + 1,\r\n        }));\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      })\r\n      .finally(() => {\r\n        this.setState({ isLoading: false });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { images, error, isLoading } = this.state;\r\n\r\n    return (\r\n      <div className={styles.app}>\r\n        <SearchForm onSearch={this.onSearch} />\r\n        {error && toast.warning(error.message)}\r\n        <Gallary items={images} isLoading={isLoading} />\r\n        {isLoading && (\r\n          <Loader\r\n            type=\"Plane\"\r\n            color=\"#00BFFF\"\r\n            height={100}\r\n            width={100}\r\n            timeout={3000} // 3 secs\r\n          />\r\n        )}\r\n        {images.length > 0 && (\r\n          <button\r\n            className={styles.button}\r\n            type=\"button\"\r\n            disabled={isLoading}\r\n            onClick={this.fetchImage}\r\n          >\r\n            Load more\r\n          </button>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDom from 'react-dom';\r\nimport App from './components/App';\r\nimport './index.css';\r\n\r\nReactDom.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}